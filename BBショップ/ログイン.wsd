@startuml login
actor "会員ユーザー" as kuser
actor "従業員ユーザー" as employee
boundary "ログイン" as log
boundary "ブラウザ" as brz
control "ログイン\nコントローラー" as logc
entity "アカウント" as account
boundary "ログイン完了" as logk
control "ログイン完了\nコントローラー" as logc2

log -> brz: ログイン画面表示
brz -> logjs: メールアドレスとパスワード入力
logjs -> logc: ログインリクエスト送信
 
alt メールアドレスとパスワードが正しい場合
    logc -> account: アカウント確認
    account --> logc: アカウント有効
    logc -> logc2: ログイン成功
    logc2 -> logk: ログイン完了画面表示
    logk --> kuser: ログイン完了通知
else メールアドレスとパスワードが正しくない場合
    logc -> brz: メールアドレスまたはパスワードが正しくありませんと表示
else 従業員アカウントの初回ログインの場合
    logc -> logc2: パスワード再設定要求
    logc2 -> brz: パスワード再設定画面表示
end
 
@enduml