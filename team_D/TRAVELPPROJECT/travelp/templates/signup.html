{% extends 'base.html' %}

{% block title %}会員登録 - トラベルプ{% endblock %}

{% block header %}会員登録{% endblock %}

{% block content %}
<section class="container my-5">
<h2>新規会員登録</h2>
{% if form.errors %}
<ul>
       {% for field, errors in form.errors.items %}
<li>{{ field }}: {{ errors|join:", " }}</li>
       {% endfor %}
</ul>
{% endif %}
<!-- サインアップフォーム -->
<form method="POST">

        {% csrf_token %}

<!-- ユーザーID -->
<div class="mb-3">
<label for="id_username" class="form-label">ユーザーID</label>

            {{ form.username }}
</div>
<!-- ニックネーム -->
<div class="mb-3">
<label for="id_nickname" class="form-label">ニックネーム</label>

            {{ form.nickname }}
</div>
<!-- メールアドレス -->
<div class="mb-3">
<label for="id_email" class="form-label">メールアドレス</label>

            {{ form.email }}
</div>
<!-- パスワード -->
<div class="mb-3">
<label for="id_password1" class="form-label">パスワード</label>

            {{ form.password1 }}
</div>
<!-- パスワード確認 -->
<div class="mb-3">
<label for="id_password2" class="form-label">パスワード確認</label>

            {{ form.password2 }}
</div>
<!-- 登録ボタン -->
<button type="submit" class="btn btn-primary">登録</button>
</form>
<!-- ログインリンク -->
<div class="mt-3">
<p>アカウントをお持ちですか？ <a href="{% url 'travelp:login' %}">ログインする</a></p>
</div>
</section>

{% endblock %}

{% block scripts %}
<script>

    // パスワードの表示切り替え

    function togglePassword() {

        const password1 = document.getElementById('id_password1');

        const password2 = document.getElementById('id_password2');

        const showPassword = document.getElementById('show-password');

        const type = showPassword.checked ? 'text' : 'password';

        password1.type = type;

        password2.type = type;

    }

    // 簡易バリデーション

    function validateForm() {

        const password1 = document.getElementById('id_password1').value;

        const password2 = document.getElementById('id_password2').value;

        if (password1 !== password2) {

            alert('パスワードが一致しません');

            return false;

        }

        return true;

    }
</script>

{% endblock %} 