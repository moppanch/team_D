{% extends 'base.html' %}

{% block title %}プロフィール編集{% endblock %}

{% block header %}プロフィール編集{% endblock %}

{% block content %}
<section class="container my-5">
    <div class="profile-container">
        <div class="profile-header">プロフィール編集</div>
        <div class="profile-info">
            <div class="icon">
                <img src="https://via.placeholder.com/100" alt="プロフィール画像">
                <input type="file" accept="image/*">
            </div>
            <div class="details">
                <div>
                    <div class="label">ニックネーム</div>
                    <div class="content" id="nicknameContent" onclick="editNickname()">ユーザー名</div>
                </div>
                <div>
                    <div class="label">ユーザーID</div>
                    <div class="content no-underline">user1234</div>
                </div>
                <div>
                    <div class="label">自己紹介</div>
                    <div class="content" id="introContent" onclick="editIntro()">ここに自己紹介文が表示されます。</div>
                </div>
            </div>
        </div>
        <div class="edit-form" id="edit-form" style="display: none;">
            <label for="nickname">ニックネーム</label>
            <input type="text" id="nickname" name="nickname" placeholder="新しいニックネーム">
            <label for="self-intro">自己紹介</label>
            <textarea id="self-intro" name="self-intro" placeholder="新しい自己紹介文を入力"></textarea>
            <div class="button-container">
                <button class="save-button" onclick="saveChanges()">保存</button>
                <button class="cancel-button" onclick="cancelEdit()">キャンセル</button>
            </div>
        </div>
        <div class="settings-button-container">
            <button class="settings-button" onclick="goToSettings()">設定</button>
        </div>
    </div>
</section>

<script>
    function editNickname() {
        var nicknameContent = document.getElementById('nicknameContent');
        nicknameContent.style.display = 'none';
        var editForm = document.getElementById('edit-form');
        editForm.style.display = 'block';
        document.getElementById('nickname').value = nicknameContent.innerText;
    }

    function editIntro() {
        var introContent = document.getElementById('introContent');
        introContent.style.display = 'none';
        var editForm = document.getElementById('edit-form');
        editForm.style.display = 'block';
        document.getElementById('self-intro').value = introContent.innerText;
    }

    function cancelEdit() {
        document.getElementById('edit-form').style.display = 'none';
        var nicknameContent = document.getElementById('nicknameContent');
        nicknameContent.style.display = 'block';
        var introContent = document.getElementById('introContent');
        introContent.style.display = 'block';
    }

    function saveChanges() {
        var nicknameContent = document.getElementById('nicknameContent');
        nicknameContent.innerText = document.getElementById('nickname').value;
        var introContent = document.getElementById('introContent');
        introContent.innerText = document.getElementById('self-intro').value;
        cancelEdit();
    }

    function goToSettings() {
        window.location.href = 'edit.html';
    }
</script>
{% endblock %}